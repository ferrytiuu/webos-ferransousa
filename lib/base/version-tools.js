var semver=require("semver"),path=require("path"),fs=require("fs");
(function(){function e(d){var c=path.resolve(__dirname,"../..","package.json");fs.readFile(c,function(c,a){if(c)return d("loadPackageJson_error");try{b=JSON.parse(a),d()}catch(f){d(f)}})}var a={};"undefined"!==typeof module&&module.exports&&(module.exports=a);var b=null;a.showVersionAndExit=function(){a.getPackageVersion(function(b,c){console.log("webOS TV CLI Version: "+c);process.exit(0)})};a.checkNodeVersion=function(b){a.getAllowedNodeVersion(function(c,d){var a=semver.validRange(d);a?semver.satisfies(process.version,
a)?b():(console.error("This command only works on Node.js version: "+a),process.exit(1)):(console.error("Invalid Node.js version range: "+d),process.exit(1))})};a.getAllowedNodeVersion=function(a){b?a(null,b&&b.engines&&b.engines.node||""):e(function(c){a(c,b&&b.engines&&b.engines.node||"")})};a.getPackageVersion=function(a){b?a(null,b.version):e(function(c){a(c,b&&b.version||"unknown")})}})();
